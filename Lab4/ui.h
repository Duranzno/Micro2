#define ESC 27
/*const code char charmander_1[1024] = {
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 192,  32,  16,   0,   8,   8,   8,   8,   0,  16,  16, 160, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 128,  64,  64,  64,  64,  64, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 223,  62,  56,  16,   0,   0,   0,  16,  28, 174, 127, 252, 252, 255, 255, 240, 128,   0,   0,   0,   0,   0,   0,   0,   0,   8, 112, 224, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 120, 134,   1,   0,   0,   0,   0,   0,  28,  36, 124, 120,  49,   6,  24,  96, 128,   0, 240,  56, 212,   8,  20,  24, 240,   0,   0, 128,   0, 192, 176,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,   8,   8, 136, 200,  60,  26,  29, 142,  79,  55,  27,   3,   7, 143, 254, 248, 112,  64, 128,   0,   0,   0,   0,   0, 131, 255, 255, 252, 240,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 112, 152,   8, 104,  73,  15,  48,  64, 192, 128, 128,  80,  64,  32, 152, 151,  72,  48,  12,   1,   6,   1,   0,   0, 192, 112,  14,   1,   0,   1,  10,  21,  11, 151, 111, 158,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  28,  50,  41,  33,  16,  31,  96, 128,  14,  25,  20,  24,   8,   4,  62, 135,   1,   0,   0,   0,   0, 131, 252, 252, 254, 127,  63,  31,  15,   3,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   2,   2,   2,   7, 135, 247,  15,   1,   1,   1,   0,   0,   0,   0,   0, 128,  64,   0,   0,   1,   3,  28, 112, 144,  16, 136, 136, 196, 226, 249,  62,  15,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128,  64,  32,  32,  17,  10, 140, 156, 248, 248, 232,   8,   5,   6, 124, 132,   6, 143,  29,  56, 240, 224, 192, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128,  78,  81,  32,  32,  67, 204, 248, 240, 240,  96,  32,  32,  62,  57, 112, 224, 224,  64,  64,  64,  96,  95, 135,   7,   3,   3,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   3,   2,   2,   3,   2,   3,   1,   1,   0,   0,   0,   0,   0,   1,   2,   2,   3,   2,   3,   3,   3,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   1,   1,   1,   1,   1,   1,   0,   0,   0,   0,   0,   0,   0,   1,   2,   2,   2,   2,   2,   2,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
};
const code char charmander_2[1024] = {
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128,  64,  32,  32,  16,  16,  16,   8,   4,  52, 122, 222, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128,  64, 224,  56,   7,   0,   0,  63, 112, 224, 192, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  68,  12, 152,  56, 248, 112, 224, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128,  64, 124,  27,   0,   0,   0,  16,  32,  56, 252, 246, 226, 254, 255, 255, 254, 192, 192, 192, 192, 192, 192, 192, 128, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  60, 211, 128, 128,   0,   0,  48,  64, 192, 168, 248, 140, 255, 255, 254, 248, 192, 128, 128, 192,  64,  32,  32,  16,  16,  16, 136, 136, 136, 136, 136, 150, 116,  88, 183,  94, 191, 125,  58,   5,  63, 248, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 224, 254, 248, 128,   0,   0,   0,   0,   7,  10,  16,  16, 244, 240, 240, 248, 248, 254, 255, 223, 143, 135, 131, 195, 227, 231, 223, 143,  79,  61, 248,  48,  49,  97, 193, 195, 227,  98, 254,  60,  28, 248, 176,  96,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  15,  17,  40, 224, 224, 232, 224, 248, 247, 255, 255, 127, 127, 127, 127, 127,  63,  31,  15, 255, 127, 119,  39,  39,  39,  67, 195, 131,   3,   1,  59, 127, 125, 240, 224, 240, 248, 244, 224,  30,   3,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  31, 103, 131,  31,  60, 120, 240, 240, 224, 224, 192, 192, 193, 103,  63,  31,  56,  16,  48,  33,  33,  33,  33,  33,  49, 147, 255, 255, 122, 121, 125, 126, 248, 240, 224, 128,   1,   2,   4,   3,   2,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128,  96,  16, 136, 136, 132, 134, 207, 255,  63,  31,  31,  29,  24,  96, 128,   0,   0,   0,   8,  20,  39,  90, 138,   5,   1,   3,   3,  15,  31,  63, 255, 254, 248, 240, 248, 232, 132,   3, 192,  48,  13,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,   8,  16,  51,  63, 127, 127, 255, 240, 192, 192, 192, 240, 248, 253, 254, 254, 254, 254, 254, 127, 115,  65, 128, 128, 128, 128, 128, 192, 224, 243, 255, 254, 248, 224,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  24,  38,  47,  18,  23,  28,   8,   7,   3,   1,   0,   0,   0,   0,   0,   0,  14,  49,  65,  66, 196, 228, 252, 248, 248, 240, 241, 227, 228, 228,  40,  44,  30,  23,  19,  11,   9,   5,   4,   2,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   4,  10,  15,  23,  23,  23,  15,  23,  23,  31,   7,   3,   0,   0,   0,   0,   0,   8,  21,  23,  31,  47,  47,  47,  31,  47,  39,  23,  15,   6,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,  13,  20,  12,  17,  15,   4,   3,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
};*/
/*void animate_charmander_2s(){
        Glcd_Image(charmander_1);
        delay_ms(500);

        Glcd_Image(charmander_2);
        delay_ms(500);
}*/
char menu[] = "Menu";
char Bien1[] = "\r Bienvenido al caso 1  \x0a \x0d";
char Bien2[] = "\n Bienvenido al caso 2 \x0a \x0d";
char Space[]="\n \x0a \x0d"  ;
char Bien3[] = "\x0a \x0d \x0a \x0d  Bienvenido al caso 3 \x0a \x0d";
char caso1[] = "A",caso2[] = "B",caso3[] = "C";
char POT1[] = "  POT 1: \r",POT2[] = "  POT 2: \r";
char MOTO1[] = " MOT 1 ACT ",MOTO2[] = " MOT 2 ACT ";
char error1[]= "\r POT 1 HA SUPERADO\n \r";
char error2[]= "\r POT 2 HA SUPERADO \n \r";
char Bi4[] = "\r \x0a 4 GUARDAR  \r" ;
char Bi5[] = "\r \x0a 5 MOSTRAR  \r" ;
char Bi6[] = "\r \x0a 6 SALIR  \r" ;
char Bien5[] = "\r Bienvenido al caso 5 \r";
char caso1_1[]="VEL(RPN) ######             |                 ####";
char caso1_2[]="SENT        ###             |                  ###";
char caso1_3[]="FALLA        ##             |                   ##";

unsigned PA,PB;
int cont = 0,it=0;
char CL[]="\x0a";
char IL[]="x0d";
char CL1[]="\n";
char IL1[]="\r";
char txt7[7];

void space2(){
	while(!HID_Write(space,64));
	while(!HID_Write(space,64));	
}
void space1(){
	while(!HID_Write(space,64));	
}

void write(char *txt){
	space2();
	while(!HID_Write(txt,64));
}
void menu2(){
	write(menu);
	write("--------------------------------------------------");
	write("CASO A MOTORES");
	write("CASO B COMPARACION");
	write("CASO C DAC");
	space1();
	space1();
	space1();
	space1();
	space1();	
}
void update_caso1(unsigned rpn1,unsigned rpn2){
	inttostr(rpn1,txt7);
	caso1_1[9] =txt7[0];
	caso1_1[10]=txt7[1];
	caso1_1[11]=txt7[2];
	caso1_1[12]=txt7[3];
	caso1_1[13]=txt7[4];
	caso1_1[14]=txt7[5];
	inttostr(rpn2,txt7);
	caso1_1[45]=txt7[1];
	caso1_1[46]=txt7[2];
	caso1_1[47]=txt7[3];
	caso1_1[48]=txt7[4];
	caso1_1[49]=txt7[5];
}
void update_caso3(unsigned falla1,unsigned falla2){
	//falla=1 si & falla=0 no
	if(falla1){
		caso1_3[13]='S';
		caso1_3[14]='I';
	}else{
		caso1_3[13]='N';
		caso1_3[14]='O';
	}
	if(falla2){
		caso1_3[48]='S';
		caso1_3[49]='I';
	}else{
		caso1_3[48]='N';
		caso1_3[49]='O';
	}
}
void update_caso2(unsigned sent1,unsigned sent2){
	//sent=1 izquierda & sent=0 derecha
	if(sent1){
		caso1_2[12]='I';
		caso1_2[13]='Z';
		caso1_2[14]='Q';
	}else{
		caso1_2[12]='D';
		caso1_2[13]='E';
		caso1_2[14]='R';
	}
	if(sent2){
		caso1_2[47]='I';
		caso1_2[48]='Z';
		caso1_2[49]='Q';
	}else{
		caso1_2[47]='D';
		caso1_2[48]='E';
		caso1_2[49]='R';
	}
}
void caso_1(unsigned rpn1,unsigned rpn2,
	unsigned sent1,unsigned sent2,
	unsigned falla1,unsigned falla2){

	update_caso1(rpn1,rpn2);
	update_caso2(sent1,sent2);
	update_caso3(falla1,falla2);
	
	write("        MOTOR 1             |              MOTOR 2");
	write("----------------------------|---------------------");
	write(caso1_1);
	write(caso1_2);
	write(caso1_3);
	space1();
	space1();
	space1();
	space1();
	space1();
	space1();
}