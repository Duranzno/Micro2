#line 1 "C:/Users/Alejandro/Documents/Git/Micro2/paola/paola1.c"



const int WHITE=0;
const int BLACK=1;

const code char charmander_1[1024] = {
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 32, 16, 0, 8, 8, 8, 8, 0, 16, 16, 160, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 64, 64, 64, 64, 64, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 223, 62, 56, 16, 0, 0, 0, 16, 28, 174, 127, 252, 252, 255, 255, 240, 128, 0, 0, 0, 0, 0, 0, 0, 0, 8, 112, 224, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 120, 134, 1, 0, 0, 0, 0, 0, 28, 36, 124, 120, 49, 6, 24, 96, 128, 0, 240, 56, 212, 8, 20, 24, 240, 0, 0, 128, 0, 192, 176, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 4, 8, 8, 136, 200, 60, 26, 29, 142, 79, 55, 27, 3, 7, 143, 254, 248, 112, 64, 128, 0, 0, 0, 0, 0, 131, 255, 255, 252, 240, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 152, 8, 104, 73, 15, 48, 64, 192, 128, 128, 80, 64, 32, 152, 151, 72, 48, 12, 1, 6, 1, 0, 0, 192, 112, 14, 1, 0, 1, 10, 21, 11, 151, 111, 158, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28, 50, 41, 33, 16, 31, 96, 128, 14, 25, 20, 24, 8, 4, 62, 135, 1, 0, 0, 0, 0, 131, 252, 252, 254, 127, 63, 31, 15, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 2, 2, 2, 7, 135, 247, 15, 1, 1, 1, 0, 0, 0, 0, 0, 128, 64, 0, 0, 1, 3, 28, 112, 144, 16, 136, 136, 196, 226, 249, 62, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 64, 32, 32, 17, 10, 140, 156, 248, 248, 232, 8, 5, 6, 124, 132, 6, 143, 29, 56, 240, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 78, 81, 32, 32, 67, 204, 248, 240, 240, 96, 32, 32, 62, 57, 112, 224, 224, 64, 64, 64, 96, 95, 135, 7, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 2, 2, 3, 2, 3, 1, 1, 0, 0, 0, 0, 0, 1, 2, 2, 3, 2, 3, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};






const code char charmander_2[1024] = {
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 64, 32, 32, 16, 16, 16, 8, 4, 52, 122, 222, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 64, 224, 56, 7, 0, 0, 63, 112, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 68, 12, 152, 56, 248, 112, 224, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 64, 124, 27, 0, 0, 0, 16, 32, 56, 252, 246, 226, 254, 255, 255, 254, 192, 192, 192, 192, 192, 192, 192, 128, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 60, 211, 128, 128, 0, 0, 48, 64, 192, 168, 248, 140, 255, 255, 254, 248, 192, 128, 128, 192, 64, 32, 32, 16, 16, 16, 136, 136, 136, 136, 136, 150, 116, 88, 183, 94, 191, 125, 58, 5, 63, 248, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 224, 254, 248, 128, 0, 0, 0, 0, 7, 10, 16, 16, 244, 240, 240, 248, 248, 254, 255, 223, 143, 135, 131, 195, 227, 231, 223, 143, 79, 61, 248, 48, 49, 97, 193, 195, 227, 98, 254, 60, 28, 248, 176, 96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 17, 40, 224, 224, 232, 224, 248, 247, 255, 255, 127, 127, 127, 127, 127, 63, 31, 15, 255, 127, 119, 39, 39, 39, 67, 195, 131, 3, 1, 59, 127, 125, 240, 224, 240, 248, 244, 224, 30, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31, 103, 131, 31, 60, 120, 240, 240, 224, 224, 192, 192, 193, 103, 63, 31, 56, 16, 48, 33, 33, 33, 33, 33, 49, 147, 255, 255, 122, 121, 125, 126, 248, 240, 224, 128, 1, 2, 4, 3, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 96, 16, 136, 136, 132, 134, 207, 255, 63, 31, 31, 29, 24, 96, 128, 0, 0, 0, 8, 20, 39, 90, 138, 5, 1, 3, 3, 15, 31, 63, 255, 254, 248, 240, 248, 232, 132, 3, 192, 48, 13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 4, 8, 16, 51, 63, 127, 127, 255, 240, 192, 192, 192, 240, 248, 253, 254, 254, 254, 254, 254, 127, 115, 65, 128, 128, 128, 128, 128, 192, 224, 243, 255, 254, 248, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 38, 47, 18, 23, 28, 8, 7, 3, 1, 0, 0, 0, 0, 0, 0, 14, 49, 65, 66, 196, 228, 252, 248, 248, 240, 241, 227, 228, 228, 40, 44, 30, 23, 19, 11, 9, 5, 4, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 10, 15, 23, 23, 23, 15, 23, 23, 31, 7, 3, 0, 0, 0, 0, 0, 8, 21, 23, 31, 47, 47, 47, 31, 47, 39, 23, 15, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 13, 20, 12, 17, 15, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};
void animate_charmander(){

 Glcd_Image(charmander_1);
 delay_ms(500);

 Glcd_Image(charmander_2);
 delay_ms(500);
}



sbit PS2_Data at RF4_bit;
sbit PS2_Clock at RF5_bit;
sbit PS2_Data_Direction at TRISF4_bit;
sbit PS2_Clock_Direction at TRISF5_bit;

sbit GLCD_D7 at RE1_bit;
sbit GLCD_D6 at RE0_bit;
sbit GLCD_D5 at RF1_bit;
sbit GLCD_D4 at RF0_bit;
sbit GLCD_D3 at RD7_bit;
sbit GLCD_D2 at RD6_bit;
sbit GLCD_D1 at RD5_bit;
sbit GLCD_D0 at RD4_bit;
sbit GLCD_D7_Direction at TRISE1_bit;
sbit GLCD_D6_Direction at TRISE0_bit;
sbit GLCD_D5_Direction at TRISF1_bit;
sbit GLCD_D4_Direction at TRISF0_bit;
sbit GLCD_D3_Direction at TRISD7_bit;
sbit GLCD_D2_Direction at TRISD6_bit;
sbit GLCD_D1_Direction at TRISD5_bit;
sbit GLCD_D0_Direction at TRISD4_bit;
sbit GLCD_CS1 at LATE3_bit;
sbit GLCD_CS2 at LATE2_bit;
sbit GLCD_RS at LATD1_bit;
sbit GLCD_RW at LATD2_bit;
sbit GLCD_EN at LATD3_bit;
sbit GLCD_RST at LATE4_bit;
sbit GLCD_CS1_Direction at TRISE3_bit;
sbit GLCD_CS2_Direction at TRISE2_bit;
sbit GLCD_RS_Direction at TRISD1_bit;
sbit GLCD_RW_Direction at TRISD2_bit;
sbit GLCD_EN_Direction at TRISD3_bit;
sbit GLCD_RST_Direction at TRISE4_bit;





const int BTN_PPS_LOCATIONS[5]={-1,37,36,35,34};

const int DIP_PPS_LOCATIONS[5]={32,33,38,39,40};
const int KEYBOARD_PPS_LOCATIONS[2]={100,101};


int counters[5]={0,0,0,0,0};
int valores_cn[4]={0,0,0,0};
unsigned short keydata = 0, special = 0, down = 0;
int op=0;




void config_IO(){
 ANSELB=0;
 ANSELC=0;
 ANSELD=0;
 ANSELE=0;
 ANSELG=0;

 TRISB = 1;
 TRISE=0;
 TRISG=0;


}
void casoC(){
 Glcd_Write_TEXT("Ultimo Reset",60,0,1);
 do{
 if (RCONbits.WDTO==1){
 Glcd_Write_TEXT("WDT",0,1,BLACK);
 delay_ms(500);
 RCONbits.WDTO=0;
 }else if(RCONbits.EXTR==1){
 Glcd_Write_TEXT("MCLR",0,2,1);
 delay_ms(500);
 RCONbits.EXTR=0;
 }else if (RCONbits.POR==1){
 Glcd_Write_TEXT("POR",0,3,1);
 delay_ms(500);
 RCONbits.POR=0;
 }
 while(Ps2_Key_Read(&keydata, &special, &down));
 }while(op!=34);
 op='c';
}
void main(){
 ANSELB=0;
 ANSELC=0;
 ANSELD=0;
 ANSELE=0;
 ANSELG=0;

 TRISB = 1;
 TRISE=0;
 TRISG=0;

 Glcd_Init();
 Glcd_Set_Font(font5x7 , 5, 7, 32);
 Glcd_Fill(0);
 PS2_Config();
 animate_charmander();
 delay_ms(1000);
 while(1){
 Glcd_Fill(0);
 Glcd_Write_TEXT("Laboratorio 1",31,0,1);
 Glcd_Write_TEXT("Presione 'A' para Caso 1",0,1,1);
 Glcd_Write_TEXT("Presione 'B' para Caso 2",0,2,1);
 Glcd_Write_TEXT("Presione 'C' para Caso 3",0,3,1);
 Glcd_Write_TEXT("Presione 'D' para WDT   ",0,4,1);
 if(Ps2_Key_Read(&keydata, &special, &down)){
 if(down &&!special){
 switch(keydata){
 case 'a':
 Glcd_Write_TEXT("Caso A",60,0,1);
 delay_ms(1000);

 break;

 case 'b':
 Glcd_Write_TEXT("Caso B ",60,0,1);
 delay_ms(1000);

 break;

 case 'c':
 Glcd_Write_TEXT("Caso C ",60,0,1);
 delay_ms(1000);
 casoC();
 break;

 case 'd':
 Glcd_Write_TEXT("Caso D ",60,0,1);
 delay_ms(1000);

 break;
 default:
 Glcd_Write_TEXT("Erroneo ",60,0,1);
 delay_ms(1000);
 break;
 }
 }
 }
 }
}
